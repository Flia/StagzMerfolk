<?xml version="1.0" encoding="utf-8"?>
<Defs>
    <GeneCategoryDef>
        <defName>StagzMerfolk</defName>
        <label>Merfolk</label>
        <displayPriorityInXenotype>511</displayPriorityInXenotype>
    </GeneCategoryDef>

    <GeneDef>
        <defName>Stagz_WebbedHands</defName>
        <label>webbed hands</label>
        <!--        TODO: finalize desc-->
        <description>TODO.</description>
        <!--        TODO: Add icon-->
        <iconPath>UI/Icons/Genes/Gene_HandsWebbed</iconPath>
        <displayOrderInCategory>1</displayOrderInCategory>
        <selectionWeight>0</selectionWeight>
        <displayCategory>StagzMerfolk</displayCategory>
        <minAgeActive>3</minAgeActive>
        <biostatCpx>0</biostatCpx>
        <biostatMet>1</biostatMet>
        <capMods>
            <li>
                <capacity>Manipulation</capacity>
                <postFactor>0.95</postFactor>
            </li>
        </capMods>
    </GeneDef>

    <GeneDef>
        <defName>Stagz_SwiftSwim</defName>
        <label>swift swim</label>
        <!--        TODO: finalize desc-->
        <description>Carriers of this gene move faster in the rain.</description>
        <!--        TODO: Add icon-->
        <iconPath>UI/Icons/Genes/Gene_SwiftSwim</iconPath>
        <displayCategory>StagzMerfolk</displayCategory>
        <displayOrderInCategory>500</displayOrderInCategory>
        <conditionalStatAffecters>
            <li Class="StagzMerfolk.ConditionalStatEffector_WaterOrRain">
                <statFactors>
                    <MoveSpeed>2</MoveSpeed>
                    <MeleeDodgeChance>2</MeleeDodgeChance>
                </statFactors>
            </li>
        </conditionalStatAffecters>
        <biostatCpx>2</biostatCpx>
        <biostatMet>-1</biostatMet>
    </GeneDef>

    <GeneDef>
        <defName>Stagz_RainVeil</defName>
        <label>rain veil</label>
        <!--        TODO: finalize desc-->
        <description>todo.</description>
        <!--        TODO: Add icon-->
        <iconPath>UI/Icons/Genes/Gene_RainVeil</iconPath>
        <displayCategory>StagzMerfolk</displayCategory>
        <displayOrderInCategory>500</displayOrderInCategory>
        <conditionalStatAffecters>
            <li Class="StagzMerfolk.ConditionalStatEffector_Rain">
                <statOffsets>
                    <MeleeDodgeChance>15</MeleeDodgeChance>
                    <ArmorRating_Heat>0.7</ArmorRating_Heat>
                </statOffsets>
                <statFactors>
                    <Flammability>0</Flammability>
                </statFactors>
            </li>
        </conditionalStatAffecters>
        <biostatCpx>2</biostatCpx>
        <biostatMet>-1</biostatMet>
    </GeneDef>

    <GeneDef>
        <defName>Stagz_Raincaller</defName>
        <label>raincaller</label>
        <!--        TODO: finalize desc-->
        <description>todo.</description>
        <!--        TODO: Add icon-->
        <iconPath>UI/Icons/Genes/Gene_Raincaller</iconPath>
        <displayCategory>StagzMerfolk</displayCategory>
        <displayOrderInCategory>500</displayOrderInCategory>
        <conditionalStatAffecters>
            <li Class="StagzMerfolk.ConditionalStatEffector_Rain">
                <statOffsets>
                    <PsychicSensitivity>0.8</PsychicSensitivity>
                </statOffsets>
            </li>
        </conditionalStatAffecters>
<!--        TODO: add raincaller ability-->
        <abilities>
            <li>Stagz_CallRain</li>
        </abilities>
        <biostatCpx>2</biostatCpx>
        <biostatMet>-1</biostatMet>
        <biostatArc>1</biostatArc>
    </GeneDef>

    <GeneDef>
        <defName>Stagz_SirenSong</defName>
        <label>siren song</label>
        <!--        TODO: finalize desc-->
        <description>todo.</description>
        <!--        TODO: Add icon-->
        <iconPath>UI/Icons/Genes/Gene_SirenCall</iconPath>
        <displayCategory>StagzMerfolk</displayCategory>
        <displayOrderInCategory>500</displayOrderInCategory>
<!--        TODO: add siren song ability-->
        <abilities>
            <li>Stagz_SirenCall</li>
        </abilities>
        <biostatCpx>2</biostatCpx>
        <biostatMet>-3</biostatMet>
    </GeneDef>

<!--    TODO: custom description, +20% dodge (ignoring cap).-->
    <GeneDef>
        <defName>Stagz_KeenReflexes</defName>
        <label>keen reflexes</label>
        <!--        TODO: finalize desc-->
        <description>todo.</description>
        <!--        TODO: Add icon-->
        <iconPath>UI/Icons/Genes/Gene_Hemogenic</iconPath>
        <displayCategory>StagzMerfolk</displayCategory>
        <displayOrderInCategory>500</displayOrderInCategory>
        <biostatCpx>2</biostatCpx>
        <biostatMet>-1</biostatMet>
        <biostatArc>1</biostatArc>
    </GeneDef>

    <GeneDef ParentName="GeneEarsBase">
        <defName>Stagz_FinEars</defName>
        <label>fin ears</label>
<!--        TODO: finish desc-->
        <description>Carriers of this gene have fin-like ears.</description>
<!--        TODO: add icon-->
        <iconPath>UI/Icons/Genes/Gene_EarCat</iconPath>
<!--        TODO: add graphics-->
        <graphicData>
            <graphicPath>Things/Pawn/Humanlike/HeadAttachments/CatEars/CatEars</graphicPath>
            <colorType>Skin</colorType>
        </graphicData>
<!--        TODO: finalize token symbols-->
        <symbolPack>
            <prefixSymbols>
                <li><symbol>scale</symbol></li>
                <li><symbol>mer</symbol></li>
            </prefixSymbols>
            <suffixSymbols>
                <li><symbol>frill</symbol></li>
                <li><symbol>folk</symbol></li>
                <li><symbol>merfolk</symbol></li>
                <li><symbol>ear</symbol></li>
            </suffixSymbols>
        </symbolPack>
    </GeneDef>

    <GeneDef>
        <defName>Stagz_Aquatic</defName>
        <label>aquatic</label>
        <!--        TODO: finish desc-->
        <description>todo.</description>
        <geneClass>StagzMerfolk.Stagz_Gene_Aquatic</geneClass>
        <!--        TODO: icon-->
        <iconPath>UI/Icons/Genes/Gene_Aquatic</iconPath>
        <displayCategory>StagzMerfolk</displayCategory>
        <causesNeed>Stagz_NeedAquatic</causesNeed>
        <biostatMet>3</biostatMet>
        <minAgeActive>3</minAgeActive>
        <symbolPack>
            <prefixSymbols>
                <li><symbol>water</symbol></li>
                <li><symbol>aqua</symbol></li>
                <li><symbol>aquatic</symbol></li>
                <li><symbol>hydro</symbol></li>
                <li><symbol>mer</symbol></li>
            </prefixSymbols>
            <suffixSymbols>
                <li><symbol>folk</symbol></li>
            </suffixSymbols>
        </symbolPack>
    </GeneDef>
    <NeedDef>
        <defName>Stagz_NeedAquatic</defName>
        <needClass>StagzMerfolk.Stagz_Need_Aquatic</needClass>
        <label>aquatic hydration</label>
        <!--        TODO: finish desc-->
        <description>todo.</description>
        <baseLevel>0.01</baseLevel>
        <listPriority>600</listPriority>
        <major>true</major>
        <minIntelligence>ToolUser</minIntelligence>
        <onlyIfCausedByGene>true</onlyIfCausedByGene>
    </NeedDef>
    
<!--    TODO: finish dehydration hediff-->
    <HediffDef>
        <defName>Stagz_Dehydration</defName>
        <label>dehydration</label>
<!--        TODO: finish desc-->
        <description>todo.</description>
        <lethalSeverity>1</lethalSeverity>
        <scenarioCanAdd>false</scenarioCanAdd>
        <stages>
            <li>
                <label>initial</label>
            </li>
            <li>
                <minSeverity>0.2</minSeverity>
                <label>minor</label>
                <socialFightChanceFactor>2</socialFightChanceFactor>
                <capMods>
                    <li>
                        <capacity>Consciousness</capacity>
                        <offset>-0.05</offset>
                    </li>
                </capMods>
            </li>
            <li>
                <minSeverity>0.4</minSeverity>
                <label>moderate</label>
                <capMods>
                    <li>
                        <capacity>Consciousness</capacity>
                        <offset>-0.10</offset>
                    </li>
                    <li>
                        <capacity>Moving</capacity>
                        <offset>-0.10</offset>
                    </li>
                </capMods>
            </li>
            <li>
                <minSeverity>0.6</minSeverity>
                <label>severe</label>
                <capMods>
                    <li>
                        <capacity>Consciousness</capacity>
                        <offset>-0.20</offset>
                    </li>
                    <li>
                        <capacity>Moving</capacity>
                        <offset>-0.20</offset>
                    </li>
                </capMods>
            </li>
            <li>
                <minSeverity>0.8</minSeverity>
                <label>extreme</label>
                <lifeThreatening>true</lifeThreatening>
                <capMods>
                    <li>
                        <capacity>Consciousness</capacity>
                        <setMax>0.1</setMax>
                    </li>
                </capMods>
            </li>
        </stages>
    </HediffDef>

    <ThoughtDef>
        <defName>Stagz_DehydrationThought</defName>
        <workerClass>StagzMerfolk.Stagz_ThoughtWorker_NeedHydration</workerClass>
        <validWhileDespawned>true</validWhileDespawned>
        <developmentalStageFilter>Baby, Child, Adult</developmentalStageFilter>
        <stages>
            <li>
                <label>dry</label>
                <description>todo.</description>
                <baseMoodEffect>-2</baseMoodEffect>
            </li>
            <li>
                <label>very dry</label>
                <description>todo.</description>
                <baseMoodEffect>-4</baseMoodEffect>
            </li>
            <li>
                <label>dehydrated</label>
                <description>todo.</description>
                <baseMoodEffect>-8</baseMoodEffect>
            </li>
            <li>
                <label>badly dehydrated</label>
                <description>todo.</description>
                <baseMoodEffect>-16</baseMoodEffect>
            </li>
            <li>
                <label>dangerously dehydrated</label>
                <description>todo.</description>
                <baseMoodEffect>-20</baseMoodEffect>
            </li>
        </stages>
    </ThoughtDef>

    <JobDef>
        <defName>Stagz_HydrateAquaticJob</defName>
        <driverClass>StagzMerfolk.JobDriver_HydrateAquatic</driverClass>
        <reportString>hydrating TargetA.</reportString>
        <casualInterruptible>false</casualInterruptible>
    </JobDef>
    
    <WorkGiverDef>
        <defName>Stagz_HydrateAquaticWorkGiver</defName>
        <label>hydrate aquatics</label>
        <giverClass>StagzMerfolk.WorkGiver_HydrateAquatic</giverClass>
        <workType>Doctor</workType>
        <verb>hydrate</verb>
        <gerund>hydrating</gerund>
        <priorityInType>100</priorityInType>
        <requiredCapacities>
            <li>Manipulation</li>
        </requiredCapacities>
        <prioritizeSustains>true</prioritizeSustains>
        <tendToHumanlikesOnly>true</tendToHumanlikesOnly>
    </WorkGiverDef>
</Defs>